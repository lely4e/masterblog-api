{
  "swagger": "2.0",
  "info": {
    "title": "Masterblog API",
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "http://localhost:5001"
    }
  ],
  "tags": [
    {
      "name": "Post",
      "description": "Post API - CRUD"
    }
  ],
  "paths": {
    "/api/posts": {
      "get": {
        "summary": "Returns all posts",
        "produces": ["application/json"],
        "tags": ["Post"],
        "parameters": [
            {"name": "sort", "in": "query", "type": "string", "required": false, "description": "Sort by field (title, content, id)"},
            {"name": "direction", "in": "query", "type": "string", "required": false, "description": "Direction (asc, desc)"},
            {"name": "page", "in": "query", "type": "integer", "required": false, "description": "Page number"},
            {"name": "limit", "in": "query", "type": "integer", "required": false, "description": "Limit amount of posts on the page"}
        ],
        "responses": {
          "200": {
            "description": "Successful operation"
          },
          "400": {
            "description": "Invalid sorting or pagination parameters"
          }
        }
      },
      "post": {
        "summary": "Create a new post",
        "produces": ["application/json"],
        "tags": ["Post"],
        "parameters": [{"name": "body", "in": "body", "required": true}],
        "responses": {
            "201": {
                "description": "Post created"
            },
            "400": {
                "description": "Empty title or content"
            }
        }
      }
    },
    "/api/posts/{id}": {
        "put": {
            "summary": "Update post by id",
            "produces": ["application/json"],
            "tags": ["Post"],
            "parameters":[
                {"name": "id", "in": "path", "required": true, "type": "integer"},
                {"name": "body", "in": "body", "required": true}
        ],
            "responses": {
                "200": {
                    "description": "Post updated"
                },
                "404": {
                    "description": "Post not found"
            }
        }},
        "delete": {
            "summary": "Delete post by id",
            "produces": ["application/json"],
            "tags": ["Post"],
            "parameters":[
                {"name": "id", "in": "path", "required": true, "type": "integer"}
        ],
            "responses": {
                "200": {
                    "description": "Post deleted"
                },
                "404": {
                    "description": "Post not found"
                }
            }}
        },
    "/api/posts/{id}/comments": {
        "post": {
            "summary": "Delete post by id",
            "produces": ["application/json"],
            "tags": ["Comments"],
            "parameters":[
                {"name": "id", "in": "path", "required": true, "type": "integer"},
                {"name": "body", "in": "body", "required": true}
        ],
            "responses": {
                "201": {
                    "description": "Comment added"
                },
                "400": {
                    "description": "Text or Author missing"
                },
                "404": {
                    "description": "Post not found"
                }
            }}
        },
    "/api/posts/search": {
        "get": {
            "summary": "Search post by title, content or category",
            "produces": ["application/json"],
            "tags": ["Search"],
            "parameters":[
                {"name": "title", "in": "query", "required": false, "type": "string"},
                {"name": "content", "in": "query", "required": false, "type": "string"},
                {"name": "categoty", "in": "query", "required": false, "type": "string"}
        ],
            "responses": {
                "200": {
                    "description": "Search results"
                },
                "400": {
                    "description": "No search parameters provided"
                }
            }}
    }
  }}
